# 构建自己的TCP协议

## 可靠的概念以及完成的服务

- 基础的数据传输

TCP能够在其用户之间的每个方向传输连续的字节流,将一些字节数据打包成段,通过互联网传输.


- 可靠性

TCP必须从因特网通信系统损坏、丢失、复制或乱序传送的数据中恢复

这是通过给传输的每个字节分配一个序列号,并要求接受的TCP回复一个确认(ACK)来实现的.

如果在规定的时间间隔内没有收到ACK,则重传数据.

在接收方,序列号用来顺序排列可能接收到的乱序的片段,并消除重复的片段.

通过在传输的每个片段上添加一个校验和,在接收方进行检查,并丢弃损坏的片段.

只要TCP各端继续正常运行,网络系统也没有断开,传输错误就不会影响到用户.

- 流量控制

TCP为接收方提供了一种方法来管理发送方发送的数据量,注意这里是接收方可以管理发送方的发送速度

这是通过在每个ACK中返回一个`窗口`来实现的,窗口表示在成功接收的最后一个片段之外的可接受的序列号范围

该窗口表示发送方在接受到进一步确认之前可以传输的字节数量

这里的流量控制实际是为了防止发送方发送过快,接收方无法进行处理设置的....


- 多路复用

在TCP协议中,为了让同一个主机上的多个进程可以同时进行通信,TCP使用了`端口`来区分不同的通信通道,每个进程通过特定的端口进行网络通信













- 连接


- 优先级和安全性
